var anvilFactory=function(a,b,c,d,e,f){var g=function(){this.conventions={defaultSiteBlock:{source:"src",style:"style",markup:"markup",output:{source:["lib","site/js"],style:["css","site/css"],markup:"site/"},spec:"spec",ext:"ext",lint:{},uglify:{},cssmin:{},hosts:{"/":"site"}},defaultLibBlock:{source:"src",output:"lib",spec:"spec",ext:"ext",lint:{},uglify:{},hosts:{"/":"site"}}},this.services={},this.combiner=f,this.compiler=e,this.preprocessors={},this.postprocessors={},this.buildState={},this.events={},this.inProcess=!1,a.bindAll(this)};return g.prototype.load=function(){var e;a.each(this.extensions,function(f){e=f.file||f.module,require(e)(a,b,c,d,this)})},g.prototype.raise=function(b,c){var d=this.events[b];a.each(d,function(a){try{a.apply(arguments)}catch(b){}})},g.prototype.onConfiguration=function(a,b){this.configuration=a,!!b},g.prototype.on=function(a,b){var c=this.events[a]||[];c.push(b)},g};module.exports=anvilFactory